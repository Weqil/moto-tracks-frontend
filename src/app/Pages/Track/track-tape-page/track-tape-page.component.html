<ion-content [scrollEvents]="true">
  <app-header  [customContainer]="true">
    <form (ngSubmit)="search()" class="header-container">
      <app-standart-input type="search" iconLeft="/assets/icons/search.svg" placeholder="Поиск трассы" style="width: 100%;" [control]="searchTapeTrackForm.get('searchInput')"></app-standart-input>
      <div class="header__filter-grid">
        <app-icon-button (click)="clearAllFilters()" [theme]="!this.regionFilterId ? 'red':'dark'" height="little-height" clippy="clippy-right" buttonText="Все"></app-icon-button>
        <app-icon-button (click)="openRegionModal()" [theme]="this.regionFilterId ? 'red':'dark'" height="little-height" clippy="clippy-right" [buttonText]="regionFilterName ? regionFilterName : 'По области'"></app-icon-button>
      </div>
    </form>
 
  </app-header>
  <app-regions-select-modal (select)="filterEventsInLocation($event)" [selectedRegion]="regionFilterName" [visible]="regionModalState" (onClose)="closeRegionModal()" [regions]="searchRegionItems"> </app-regions-select-modal>
  <main class="main-container--with-header--strong">
    <div class="tracks">
      <div class="tracks-grid">
        @for (track of  this.trackTapeService.tracks; track $index) {
          <div class="tracks-grid__item">
            <app-track-section [routerLink]="['/track/', track.id]" routerLinkActive="router-link-active" [hidhtStatus]="true"  [track]="track"></app-track-section>
          </div>
        } 
      </div>
    </div> 
  </main>
</ion-content>

<!-- <ion-modal class="region-modal" (didDismiss)="closeRegionModal()"  [isOpen]="regionModalState">
  <ng-template>
    <ion-content>
      <div class="region-modal-container">
        <app-standart-input-search 
        label="Область/край*" 
        [searchCurrentItems]="searchRegionItems" 
        [searchItems]="searchRegionItems" 
        (changeSearchValue)="filterEventsInLocation($event)">
      </app-standart-input-search>
      </div>
    </ion-content>
  </ng-template>  
</ion-modal>        -->
import{a as e}from"./chunk-GF6VGRIS.js";import{j as p}from"./chunk-FYK4VEB7.js";import{P as i,V as c,g as a}from"./chunk-LFIOHD3L.js";var D=(()=>{let r=class r{constructor(){this.user=new a(this.getUserFromLocalStorage()),this.http=c(p)}setUserInLocalStorage(t){t&&(this.user.next(t),localStorage.setItem("user",JSON.stringify(t)))}deleteUser(){}createUserDocument(t){return this.http.post(`${e.BACKEND_URL}:${e.BACKEND_PORT}/api/users/cabinet/documents`,t)}updateDocument(t,o){let n=new FormData;return n.append("data",JSON.stringify(o)),this.http.post(`${e.BACKEND_URL}:${e.BACKEND_PORT}/api/users/cabinet/documents/${t}/update`,n)}getUserDocuments(){return this.http.get(`${e.BACKEND_URL}:${e.BACKEND_PORT}/api/users/cabinet/documents`)}getUserFromServerWithToken(){return this.http.get(`${e.BACKEND_URL}:${e.BACKEND_PORT}/api/users`)}refreshUser(){this.getUserFromServerWithToken().pipe().subscribe(t=>{console.log(t),this.setUserInLocalStorage(t.user)})}clearUser(){localStorage.removeItem("user"),this.user.next(null)}createPersonalInfo(t){return this.http.post(`${e.BACKEND_URL}:${e.BACKEND_PORT}/api/users/cabinet/personal-info`,t)}updatePersonalInfo(t){return this.http.patch(`${e.BACKEND_URL}:${e.BACKEND_PORT}/api/users/cabinet/personal-info`,t)}getUserFromLocalStorage(){return JSON.parse(String(localStorage.getItem("user")))}};r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=i({token:r,factory:r.\u0275fac,providedIn:"root"});let s=r;return s})();export{D as a};

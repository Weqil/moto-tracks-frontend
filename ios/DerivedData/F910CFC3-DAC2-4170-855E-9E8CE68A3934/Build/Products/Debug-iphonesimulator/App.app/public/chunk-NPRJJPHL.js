import{b as E}from"./chunk-GBZ37CTB.js";import{a as B}from"./chunk-SYPE7VPX.js";import{a as j}from"./chunk-7KYDD3R6.js";import"./chunk-NUV3S4IR.js";import{a as z}from"./chunk-J3CYG6CI.js";import{a as F}from"./chunk-JRTDRGUG.js";import{a as I}from"./chunk-ANI5XEPI.js";import{e as L,f as O}from"./chunk-LB5WRDFC.js";import{a as x}from"./chunk-E7XUYOOL.js";import"./chunk-GF6VGRIS.js";import{M as P,ba as s,s as M}from"./chunk-FYK4VEB7.js";import{D as v,Ha as n,Hb as _,K as g,P as k,Qa as h,V as o,bb as a,f,fb as y,gb as T,hb as S,ib as c,jb as d,kb as l,xb as C,yb as b,zb as w}from"./chunk-LFIOHD3L.js";import"./chunk-UKLEBRLV.js";import"./chunk-5E46SPE4.js";import"./chunk-ACGYCHS3.js";import"./chunk-ZXFZWMZA.js";import"./chunk-F7XBNY6P.js";import"./chunk-IEY6ZC2G.js";import"./chunk-MNDBORQJ.js";import"./chunk-7QVI4S4L.js";import"./chunk-4U6PRYVA.js";import"./chunk-XODSA4YU.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import"./chunk-LNJ3S2LQ.js";var D=(()=>{let t=class t{constructor(){this.tracks=[],this.tracksLastScrollPositionForTape=0}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var $=e=>["/track/",e];function V(e,t){if(e&1&&(c(0,"div",5),l(1,"app-track-section",6),d()),e&2){let m=t.$implicit;n(),a("routerLink",_(2,$,m.id))("track",m)}}var at=(()=>{let t=class t{constructor(){this.destroy$=new f,this.navController=o(P),this.trackService=o(j),this.trackTapeService=o(D),this.switchTypeService=o(L),this.loadingService=o(z)}getTracks(){this.loadingService.showLoading(),this.trackService.getTracks().pipe(v(()=>this.loadingService.hideLoading())).subscribe(i=>{this.trackTapeService.tracks=i.tracks})}redirectInEvents(){this.navController.navigateForward("/events")}ionViewWillEnter(){this.switchTypeService.setTypeInLocalSorage("tracks"),this.ionContent.scrollToPoint(0,this.trackTapeService.tracksLastScrollPositionForTape,0),this.ionContent.ionScroll.pipe(g(this.destroy$)).subscribe(i=>{this.trackTapeService.tracksLastScrollPositionForTape=i.detail.scrollTop}),this.getTracks()}ionViewDidLeave(){this.destroy$.next()}ngOnInit(){}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=h({type:t,selectors:[["app-track-tape-page"]],viewQuery:function(r,p){if(r&1&&C(s,5),r&2){let u;b(u=w())&&(p.ionContent=u.first)}},decls:7,vars:2,consts:[[3,"scrollEvents"],["headerTitle","\u041B\u0435\u043D\u0442\u0430 \u0442\u0440\u0435\u043A\u043E\u0432",3,"hiddenBackButton"],[1,"main-container--with-header"],[1,"tracks"],[1,"tracks-grid"],[1,"tracks-grid__item"],["routerLinkActive","router-link-active",3,"routerLink","track"]],template:function(r,p){r&1&&(c(0,"ion-content",0),l(1,"app-header",1),c(2,"main",2)(3,"div",3)(4,"div",4),T(5,V,2,4,"div",5,y),d()()()()),r&2&&(a("scrollEvents",!0),n(),a("hiddenBackButton",!0),n(4),S(p.trackTapeService.tracks))},dependencies:[x,s,F,I,O,E,B,M],styles:[".track-page-header[_ngcontent-%COMP%]{padding:var(--standart-padding);justify-content:space-between;display:flex;flex-direction:column;height:100%}.track-page-header[_ngcontent-%COMP%]   .track-page-header__bottom-content[_ngcontent-%COMP%]{display:flex;justify-content:end}.track-page-header[_ngcontent-%COMP%]   .map-button[_ngcontent-%COMP%]{padding:.3rem;background-color:var(--white-color);font-family:var(--font-bold);text-align:end;transition:.3s all;border-radius:4px;font-size:var(--font-regular-size)}.track-page-header[_ngcontent-%COMP%]   .map-button[_ngcontent-%COMP%]:active{padding:.3rem;transition:.3s all;background-color:var(--blue-primary-color);font-family:var(--font-bold);text-align:end;color:var(--white-color);border-radius:4px;font-size:var(--font-regular-size)}.tracks[_ngcontent-%COMP%]{padding-top:var(--standart-padding)}.tracks-grid__item[_ngcontent-%COMP%]{border-bottom:1px solid rgba(76,88,97,.1568627451);padding-top:var(--little-padding);padding-bottom:var(--little-padding)}"]});let e=t;return e})();export{at as TrackTapePageComponent};

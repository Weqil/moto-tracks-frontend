import{a as W}from"./chunk-L3WJPVL4.js";import{a as X,c as ee,d as te}from"./chunk-BSFBEI64.js";import{A as U,C as w,D as Z,E as H,F as J,G as K,J as Q,K as V,e as Y,h as v,v as F,x,y as E,z as $}from"./chunk-FYK4VEB7.js";import{$ as G,Ab as b,Cb as y,Db as C,Gb as z,Ha as a,Hb as B,Ia as L,K as R,L as j,Q as N,Qa as O,Ra as q,Wa as I,aa as u,ba as g,bb as d,f as A,g as T,ga as D,ib as l,jb as p,kb as c,lb as k,mb as S,ob as _,rb as f,sb as m,vb as s}from"./chunk-LFIOHD3L.js";function ae(n,o){if(n&1){let t=_();l(0,"button",6),f("click",function(){u(t),m();let r=b(4),e=m();return g(e.openPasword(r))}),c(1,"img",7),p()}}function se(n,o){if(n&1&&(k(0),l(1,"label",3),y(2),p(),c(3,"textarea",4,0),I(5,ae,2,0,"button",5),S()),n&2){let t=m();a(),s("for",t.label),a(),C(t.label),a(),s("placeholder",t.placeholder),s("name",t.label),d("readonly",t.readonly)("formControl",t.control),a(2),d("ngIf",t.openPassword)}}function de(n,o){if(n&1){let t=_();l(0,"button",6),f("click",function(){u(t),m();let r=b(4),e=m();return g(e.openPasword(r))}),c(1,"img",7),p()}}function le(n,o){if(n&1&&(k(0),l(1,"label",8),y(2),p(),c(3,"textarea",9,0),I(5,de,2,0,"button",5),S()),n&2){let t=m();a(),s("for",t.label),a(),C(t.label),a(),s("placeholder",t.placeholder),s("name",t.label),d("readonly",t.readonly)("formControl",t.control),a(2),d("ngIf",t.openPassword)}}function pe(n,o){if(n&1){let t=_();l(0,"button",6),f("click",function(){u(t),m();let r=b(4),e=m();return g(e.openPasword(r))}),c(1,"img",7),p()}}function ce(n,o){if(n&1&&(k(0),l(1,"label",8),y(2),p(),c(3,"textarea",10,0),I(5,pe,2,0,"button",5),S()),n&2){let t=m();a(),s("for",t.label),a(),C(t.label),a(),s("placeholder",t.placeholder),s("name",t.label),d("readonly",t.readonly)("formControl",t.control),a(2),d("ngIf",t.openPassword)}}var oe=(()=>{let o=class o{constructor(){this.type="",this.label="",this.placeholder="",this.readonly=!1,this.openPassword=!1,this.invalid=!1,this.disabled=!1}openPasword(i){i.type=i.type==="password"?"text":"password"}ngOnInit(){}};o.\u0275fac=function(r){return new(r||o)},o.\u0275cmp=O({type:o,selectors:[["app-standart-rich-input"]],inputs:{control:"control",type:"type",label:"label",placeholder:"placeholder",readonly:"readonly",openPassword:"openPassword",invalid:"invalid",disabled:"disabled"},decls:4,vars:3,consts:[["input",""],[1,"input-wrapper"],[4,"ngIf"],[1,"label_invalid",3,"for"],["name","new_name",1,"standart-input_inavlid",3,"readonly","placeholder","name","formControl"],["type","button","class","open-input",3,"click",4,"ngIf"],["type","button",1,"open-input",3,"click"],["src","/assets/icons/open-input.svg","alt","",1,"open-input-icon"],[1,"label",3,"for"],["name","new_name",1,"standart-input",3,"readonly","placeholder","name","formControl"],["name","new_name",1,"standart-input_disabled",3,"readonly","placeholder","name","formControl"]],template:function(r,e){r&1&&(l(0,"div",1),I(1,se,6,7,"ng-container",2)(2,le,6,7,"ng-container",2)(3,ce,6,7,"ng-container",2),p()),r&2&&(a(),d("ngIf",e.invalid&&!e.disabled),a(),d("ngIf",!e.invalid&&!e.disabled),a(),d("ngIf",e.disabled))},dependencies:[v,Y,Q,F,E,V,H],styles:[".standart-input[_ngcontent-%COMP%]{border:1px solid rgba(76,88,97,.2549019608);border-radius:5px;width:100%;min-height:2.25rem;font-size:12px;background:none;padding-top:.9rem;min-height:17rem;padding-left:.8rem;transition:.1s;color:#363d42;font-family:var(--font-regular)}.standart-input_inavlid[_ngcontent-%COMP%]{border:1px solid #ff0000;border-radius:5px;width:100%;background:none;min-height:2.25rem;padding-top:.9rem;font-size:12px;min-height:8rem;padding-left:.8rem;transition:.1s;color:#363d42}.standart-input_inavlid[_ngcontent-%COMP%]:focus{border:1px solid #ff0000;border-radius:5px;width:100%;background:none;outline:none;min-height:2.25rem;padding-top:.9rem;font-size:12px;min-height:8rem;padding-left:.8rem;transition:.1s;color:#363d42}.standart-input[_ngcontent-%COMP%]:focus{transition:.2s;outline:1px solid rgba(82,177,250,.6901960784);border-radius:5px;width:100%;padding-top:.9rem;min-height:8rem;background:none;font-size:12px;padding-left:.8rem;color:#363d42}.label[_ngcontent-%COMP%]{color:#4c5861;font-size:12px;margin-bottom:6px;font-family:var(--font-regular)}.label_invalid[_ngcontent-%COMP%]{color:red;font-size:12px;margin-bottom:6px}.input-wrapper[_ngcontent-%COMP%]{padding-top:.5rem}.open-input[_ngcontent-%COMP%], .open-input[_ngcontent-%COMP%]:active{background:none;position:absolute;margin-left:-2rem;margin-top:.75rem}.open-input[_ngcontent-%COMP%]:active   .open-input-icon[_ngcontent-%COMP%], .open-input-icon[_ngcontent-%COMP%]:active{filter:brightness(0) saturate(100%) invert(20%) sepia(2%) saturate(3827%) hue-rotate(188deg) brightness(93%) contrast(92%)}.standart-input_disabled[_ngcontent-%COMP%]{border:none;pointer-events:none;border-radius:5px;width:100%;min-height:2.25rem;font-size:12px;background-color:#c0c0c071;padding-left:.8rem;transition:.1s;color:#51555896}"]});let n=o;return n})();var me=()=>["zoomControl","fullscreenControl"],ue=n=>({controls:n}),ge=()=>({yandexMapDisablePoiInteractivity:!0,maxZoom:18,suppressMapOpenBlock:!0,suppressObsoleteBrowserNotifier:!0}),ie=(()=>{let o=class o{constructor(i){this.yaGeocoderService=i,this.type="",this.label="",this.placeholder="",this.readonly=!1,this.openPassword=!1,this.invalid=!1,this.disabled=!1,this.addressEditEmit=new D,this.destroy$=new A,this.addressChange=new T(!0)}setFirstCoords(){this.coords=[55.751574,37.573856],this.addressForm.patchValue({longitude:this.coords[0],latitude:this.coords[1]}),this.setAdress()}ngOnChanges(i){this.setFirstCoords(),this.map&&setTimeout(()=>{this.addPlacemark(this.coords)},0)}emitForm(){this.addressEditEmit.emit(this.addressForm.value)}onMapReady(i){this.map=i,this.addPlacemark(this.coords),new ymaps.SuggestView("search-map-").events.add("select",e=>{this.map.target.geoObjects.removeAll(),this.address=e.originalEvent.item.displayName,this.yaGeocoderService.geocode(this.address,{results:1}).pipe(R(this.destroy$)).subscribe(M=>{let h=M.geoObjects.get(0);this.coords=h.geometry.getCoordinates(),this.setLongitudelatitude(),this.setAdress(),this.addPlacemark(this.coords)})})}clearInput(i){i.value=""}addPlacemark(i){this.map.target.geoObjects.removeAll(),this.placemark=new ymaps.Placemark(i),this.map.target.geoObjects.add(this.placemark)}onMapClick(i){let{target:r,event:e}=i;this.map.target.geoObjects.removeAll(),this.addPlacemark([e.get("coords")[0],e.get("coords")[1]]),this.coords=[e.get("coords")[0],e.get("coords")[1]],this.setAdress(),this.setLongitudelatitude(),this.emitForm()}setAdress(){this.yaGeocoderService.geocode(this.coords,{results:1}).pipe(R(this.destroy$),j(r=>{let e=r.geoObjects.get(0);e&&(this.addressForm.value.address=e.getAddressLine())})).subscribe(r=>{this.emitForm()})}setLongitudelatitude(){this.addressForm.value.longitude=this.coords[1],this.addressForm.value.latitude=this.coords[0]}ngAfterViewInit(){this.setFirstCoords()}testLog(){}setFormInLoad(){this.setLongitudelatitude(),this.setAdress()}ngOnInit(){this.addressForm=new U({placeId:new w(this.placeId,[x.required]),address:new w("",[x.required]),longitude:new w("",[x.required]),latitude:new w("",[x.required]),location_id:new w("",[x.required])})}};o.\u0275fac=function(r){return new(r||o)(L(te))},o.\u0275cmp=O({type:o,selectors:[["app-address-input"]],inputs:{control:"control",type:"type",label:"label",placeholder:"placeholder",readonly:"readonly",openPassword:"openPassword",invalid:"invalid",disabled:"disabled",coords:"coords",placeId:"placeId"},outputs:{addressEditEmit:"addressEditEmit"},features:[G],decls:10,vars:16,consts:[["input",""],[1,"input-wrapper"],[3,"formGroup"],[1,"label",3,"for"],["formControlName","address","id","search-map-","name","new_name",1,"standart-input",3,"value","readonly","placeholder","type","name"],["type","button",1,"clear-input",3,"click"],["src","/assets/icons/close.svg","alt","",1,"clear-input__img"],[1,"map"],[3,"ready","yaclick","zoom","center","state","options"]],template:function(r,e){if(r&1){let P=_();l(0,"div",1)(1,"form",2)(2,"label",3),y(3),p(),c(4,"input",4,0),l(6,"button",5),f("click",function(){u(P);let h=b(5);return g(e.clearInput(h))}),c(7,"img",6),p(),l(8,"div",7)(9,"ya-map",8),f("ready",function(h){return u(P),g(e.onMapReady(h))})("yaclick",function(h){return u(P),g(e.onMapClick(h))}),p()()()()}r&2&&(a(),d("formGroup",e.addressForm),a(),s("for",e.label),a(),C(e.label),a(),s("value",e.addressForm.value.address),s("placeholder",e.placeholder),s("type",e.type),s("name",e.label),d("readonly",e.readonly),a(5),d("zoom",11)("center",e.coords)("state",B(13,ue,z(12,me)))("options",z(15,ge)))},dependencies:[V,Z,F,E,$,J,K,v,ee,X],styles:[".standart-input[_ngcontent-%COMP%]{border:1px solid rgba(76,88,97,.2549019608);border-radius:5px;width:100%;min-height:2.25rem;font-size:12px;padding-left:.8rem;padding-right:1.4rem;transition:.1s;color:#363d42;font-family:var(--font-regular);background:none}.standart-input_inavlid[_ngcontent-%COMP%]{border:1px solid #ff0000;border-radius:5px;padding-left:.8rem;width:100%;min-height:2.25rem;font-size:12px;padding-right:1.4rem;background:none;transition:.1s;color:#363d42}.clear-input[_ngcontent-%COMP%]{background:none;position:absolute;margin-left:-1.5rem;margin-top:.6rem}.clear-input__img[_ngcontent-%COMP%]{width:1rem;height:1rem}.standart-input_inavlid[_ngcontent-%COMP%]:focus{outline:none;border-radius:5px;width:100%;padding-right:1.4rem;min-height:2.25rem;transition:.2s;background:none;font-size:12px;padding-left:.8rem;transition:.1s;color:#363d42}.standart-input[_ngcontent-%COMP%]:focus{transition:.2s;padding-right:1.4rem;outline:1px solid rgba(82,177,250,.6901960784);border-radius:5px;width:100%;background:none;min-height:2.25rem;font-size:12px;padding-left:.8rem;color:#363d42}.label[_ngcontent-%COMP%]{color:#4c5861;font-size:12px;margin-bottom:6px;font-family:var(--font-regular)}.label_invalid[_ngcontent-%COMP%]{color:red;font-size:12px;margin-bottom:6px}.open-input[_ngcontent-%COMP%], .open-input[_ngcontent-%COMP%]:active{background:none;position:absolute;margin-left:-2rem;margin-top:.75rem}.open-input[_ngcontent-%COMP%]:active   .open-input-icon[_ngcontent-%COMP%], .open-input-icon[_ngcontent-%COMP%]:active{filter:brightness(0) saturate(100%) invert(20%) sepia(2%) saturate(3827%) hue-rotate(188deg) brightness(93%) contrast(92%)}.standart-input_disabled[_ngcontent-%COMP%]{border:none;pointer-events:none;padding-right:1.4rem;border-radius:5px;width:100%;min-height:2.25rem;font-size:12px;background-color:#c0c0c071;padding-left:.8rem;transition:.1s;color:#51555896}.map[_ngcontent-%COMP%]{padding-top:1rem;width:100%;height:30vh}"]});let n=o;return n})();var Ae=(()=>{let o=class o{};o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=q({type:o}),o.\u0275inj=N({imports:[v,W,oe,ie]});let n=o;return n})();export{oe as a,ie as b,Ae as c};
